[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.8414093.svg)](https://doi.org/10.5281/zenodo.8414093)
# Top-k Query generator

## Introduction

* This is the implementation of the runtime phase of the pipeline for semantics-driven keyword search over knowledge graphs proposed by [L.Feddoul](https://ceur-ws.org/Vol-2798/paper3.pdf).
* This code version uses the cosine similarity between the embeddings of the node labels as a semantic relatedness metric. The embeddings are generated using the [Universal Sentence Encoder lite](https://www.npmjs.com/package/@tensorflow-models/universal-sentence-encoder).
* This pipeline needs a weighted summary graph as input generated by the off-line phase.
* To run the code, we provide an example summary graph of [Mondial](https://www.dbis.informatik.uni-goettingen.de/Mondial/#RDF) under  `query-generation-code/summary-graph/mondial` that is generated by running the off-line phase of the pipeline.

## Integration in XSearchKG

- Changes made to this [code version](https://zenodo.org/record/8414093):
  * [src/query-generation-code/main.js](src/query-generation-code/main.js): added and exported a method signature, added a return statement.
  * [src/query-generation-code/config/config.js](src/query-generation-code/config/config.js): moved and extended the existing configuration, now part of [src/config/config.js](src/config/config.js).
  * [src/query-generation-code/graph-traversal/backwardFinal.js](src/query-generation-code/graph-traversal/backwardFinal.js): compare timeout with seconds instead of minutes in order to be more flexible.
  * [src/query-generation-code/util/generateGraph.js](src/query-generation-code/util/generateGraph.js): added a wrapper method, to ensure, the graph object is build only once.

- Further (optional) changes made to the original code
  * removed all `console.log` statements, in order to stay focused on the logs of the controller.
